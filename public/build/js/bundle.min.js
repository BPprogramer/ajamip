!function(){if(document.querySelector(".formulario")){document.querySelector('.formulario [type="submit"]').addEventListener("click",(function(e){setTimeout(()=>{e.target.disabled=!0,e.target.classList.add("formulario__submit--deshabilitado")},0)}))}}(),function(){const e=document.querySelector(".alerta__exito"),t=document.querySelector(".formulario");if(e){t.style.display="none",setTimeout(()=>{e.remove(),function(){const e=window.location.href;e.includes("/admin/usuarios/")&&(window.location.href="/admin/usuarios");e.includes("/admin/estratos/")&&(window.location.href="/admin/estratos");e.includes("/admin/registrados/")&&(window.location.href="/admin/registrados");e.includes("/admin/cajas/")&&(window.location.href="/admin/cajas")}()},3e3)}}(),function(){const e=document.querySelector("#btnImprimirFacturas");if(e){const n=document.querySelector("#switch"),o=document.querySelector("#btnGenerarFacturas");function t(){console.log("asdf"),Swal.fire({title:"Esta seguro de generar las facturas de este mes?",showDenyButton:!0,confirmButtonText:"Generar",denyButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&async function(){o.removeEventListener("click",t),o.classList.add("inicio__boton-generar--inactivo");try{const e=await fetch("/api/generar-facturas-manual"),a=await e.json();o.classList.remove("inicio__boton-generar--inactivo"),o.addEventListener("click",t),Swal.fire({icon:a.type,text:a.msg})}catch(e){console.log(e)}}()})}async function a(){try{const e=await fetch("/api/generar-auto"),s=await e.json();console.log(s);!function(e){const s=document.createElement("INPUT");s.type="checkbox",s.id="checkbox",o.classList.contains("inicio__boton-generar--inactivo")&&o.classList.remove("inicio__boton-generar--inactivo");1==e?(s.checked=!0,o.classList.add("inicio__boton-generar--inactivo"),o.removeEventListener("click",t)):(s.checked=!1,o.addEventListener("click",t));s.onchange=function(){setTimeout(()=>{!async function(e){let t;t=e?1:0;const n=new FormData;n.append("id",1),n.append("auto",t);try{await fetch("{location.origin}/api/generar-auto",{body:n,method:"POST"}),a()}catch(e){}}(s.checked)},300)};const c=document.createElement("DIV");c.classList.add("slider","round"),n.appendChild(s),n.appendChild(c)}(s.auto)}catch(e){console.log(e)}}document.querySelector("#btnEliminarFacturas").addEventListener("click",(function(){Swal.fire({title:"Esta seguro de generar las facturas de este mes?",showDenyButton:!0,confirmButtonText:"Eliminar",denyButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&async function(){try{const e=await fetch("/api/eliminar-facturas"),t=await e.json();console.log(t),Swal.fire({icon:t.type,text:t.msg})}catch(e){}}()})})),a(),e.addEventListener("click",(function(){window.open("/api/facturas","_blank")}))}}(),function(){if(document.querySelector("#caja")){document.querySelector("#efectivo_inicial").addEventListener("input",(function(e){!function(e){const t=e.target.value;let a=parseFloat(t.replace(/,/g,""));isNaN(a)&&(a="");const n=a.toLocaleString("en");e.target.value=n}(e)}))}}(),function(){if(document.querySelector("#tablaCajasPagos")){let e;const t=new URL(window.location),a=new URLSearchParams(t.search).get("id");document.querySelector("#tablaCajasPagos");Number.isInteger(parseInt(a))?($("#tablaCajasPagos").dataTable().fnDestroy(),e=$("#tablaCajasPagos").DataTable({ajax:"/api/cajas/pagos?id="+a,deferRender:!0,retrieve:!0,proccesing:!0,responsive:!0}),$.ajax({url:"/api/cajas/pagos?id="+a,success:function(e){console.log(e)},error:function(e){console.log(e.responseText)}})):window.location.href="/admin/cajas"}}(),function(){if(document.querySelector("#tablaCajas")){let t;function e(e){Swal.fire({title:"Esta Seguro de Cerrar esta Caja?",text:"Esta acciÃ³n no se puede deshacer",icon:"warning",showDenyButton:!0,confirmButtonText:"Seguro",denyButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&async function(e){const a=new FormData;a.append("id",e);try{const e="/api/cajas/cerrar",n=await fetch(e,{body:a,method:"POST"}),o=await n.json();if("success"==o.tipo){if("error"==o.tipo)return void Swal.fire({icon:"error",title:"Oops...",text:o.mensaje});Swal.fire({icon:"success",text:o.mensaje}),t.ajax.reload()}}catch(e){console.log(e)}}(e)})}$("#tablaCajas").on("click","#estadoCaja",(function(t){e($(this).data("cajaId"))})),$("#tablaCajas").dataTable().fnDestroy(),t=$("#tablaCajas").DataTable({ajax:"/api/cajas",deferRender:!0,retrieve:!0,proccesing:!0,responsive:!0}),t.on("draw",(function(){document.querySelector("#estadoCaja").addEventListener("dblclick",(function(t){e(t.target.dataset.cajaId)}))}))}}(),function(){const e=document.querySelector("#facturas");if(e){const n=new URL(window.location),o=new URLSearchParams(n.search).get("id"),s=document.querySelector("#cliente");async function t(){const t=new FormData;t.append("id",o);try{const n="http://localhost:3000/api/facturas-registrado",o=await fetch(n,{method:"POST",body:t}),c=await o.json();c&&(function(e){const t=document.querySelector("#deuda");t.classList=[],t.classList.add("deuda__valor"),0==e?t.classList.add("deuda__valor--pagado"):t.classList.add("deuda__valor--vencido");t.textContent="$ "+e.toLocaleString("en")}(c.deuda),function(t){const n=document.createElement("TABLE");n.classList.add("table"),t.forEach(e=>{const{id:t,numero_factura:o,fecha_emision:c,periodo_fin:i,periodo_inicio:r,copago:l,pagado:d,ajuste:u}=e,p=(new Date).getMonth()+1,m=c.split("-"),_=p-parseFloat(m[1]),f=document.createElement("TR");f.classList.add("table__tr"),f.onclick=function(t){!function(e){const t=document.querySelector(".table__seleccion");t&&t.classList.remove("table__seleccion");e.currentTarget.classList.add("table__seleccion")}(t),function(e){const{id:t,numero_factura:n,fecha_emision:o,estrato:c,periodo_inicio:i,periodo_fin:r,copago:l,pagado:d}=e;!function(){const e=document.querySelector("#actions");for(;e.firstChild;)e.removeChild(e.firstChild)}();const u=document.querySelector("#actions"),p=document.createElement("DIV");p.classList.add("actions__contenedor");document.createElement("DIV").classList.add("actions__info");const m=document.createElement("DIV");m.classList.add("registrado__datos");const _=document.createElement("SPAN");_.classList.add("registrado__label"),_.textContent="Cliente";const f=document.createElement("P");f.classList.add("registrado__dato"),f.textContent=s.textContent;const g=document.createElement("DIV");g.classList.add("registrado__datos");const h=document.createElement("SPAN");h.classList.add("registrado__label"),h.textContent="Estrato";const b=document.createElement("P");b.classList.add("registrado__dato"),b.textContent=c;const L=document.createElement("DIV");L.classList.add("registrado__datos");const y=document.createElement("SPAN");y.classList.add("registrado__label"),y.textContent="Periodo";const C=document.createElement("P");C.classList.add("registrado__dato"),C.innerHTML=`${i} &nbsp;- &nbsp;  ${r}`;const S=document.createElement("DIV");S.classList.add("registrado__datos");const v=document.createElement("SPAN");v.classList.add("registrado__label"),v.textContent="Monto ";const E=document.createElement("P");E.classList.add("registrado__dato"),E.textContent="$ "+parseFloat(l).toLocaleString("en"),m.appendChild(_),m.appendChild(f),g.appendChild(h),g.appendChild(b),L.appendChild(y),L.appendChild(C),S.appendChild(v),S.appendChild(E),p.appendChild(m),p.appendChild(g),p.appendChild(L),p.appendChild(S),u.appendChild(p);const w=document.createElement("DIV");w.classList.add("actions__botones");const x=document.createElement("SPAN");if(x.classList.add("actions__boton"),x.onclick=function(){!async function(e){const t="/api/previsualizar-factura?key="+btoa(e);window.open(t,"_blank")}(n)},x.textContent="Previzualizar",0==d){const t=document.createElement("SPAN");t.classList.add("actions__boton"),t.textContent="Pago Efectivo",t.id="btnPagar";const n=document.createElement("SPAN");n.classList.add("actions__boton"),n.textContent="transferencia",n.id="btnBanco",t.onclick=function(){n.style.display="none",t.style.display="none",a(e,1,t,n)},n.onclick=function(){n.style.display="none",t.style.display="none",a(e,0,t,n)},w.appendChild(t),w.appendChild(n)}w.appendChild(x),u.appendChild(w)}(e)};const g=document.createElement("TD");g.classList.add("table__td"),g.textContent="#"+o;const h=document.createElement("TD");h.classList.add("table__td"),h.innerHTML='<span class="table__span">Emitida:&nbsp; </span>&nbsp; '+c;const b=document.createElement("TD");b.classList.add("table__td"),b.innerHTML=`<span class="table__span">Periodo:&nbsp; </span>&nbsp; ${r} &nbsp; - &nbsp;${i}`;const L=document.createElement("TD");L.classList.add("table__td"),L.innerHTML=' <span class="table__span">Monto:&nbsp; </span>$ '+parseFloat(l-u).toLocaleString("en");const y=document.createElement("TD");y.classList.add("table__td"),y.innerHTML=_>0&&0==d?' <span class="table__boton table__boton--vencida">Impaga</span>':` <span class="table__boton table__boton--${1==d?"pagado":"impaga"}">${1==d?"Pagado":"Impaga"}</span>`,f.appendChild(g),f.appendChild(h),f.appendChild(b),f.appendChild(L),f.appendChild(y),n.appendChild(f)}),e.appendChild(n)}(c.facturas))}catch(e){console.log(e)}}function a(a,n,o,c){const{id:i,copago:r,periodo_inicio:l,periodo_fin:d,numero_factura:u}=a,p=document.createElement("DIV");p.classList.add("registrado");const m=document.createElement("DIV");m.classList.add("registrado__datos");const _=document.createElement("SPAN");_.classList.add("registrado__label"),_.textContent="Metodo de Pago:";const f=document.createElement("P");f.classList.add("registrado__dato"),f.textContent=1==n?"Efectivo":"Transferencia";const g=document.createElement("DIV");g.classList.add("registrado__datos");const h=document.createElement("SPAN");h.classList.add("registrado__label"),h.textContent="Cliente:";const b=document.createElement("P");b.classList.add("registrado__dato"),b.textContent=s.textContent;const L=document.createElement("DIV");L.classList.add("registrado__datos");const y=document.createElement("SPAN");y.classList.add("registrado__label"),y.textContent="Periodo:";const C=document.createElement("P");C.classList.add("registrado__dato"),C.innerHTML=`${l} &nbsp;- &nbsp;  ${d}`;const S=document.createElement("DIV");S.classList.add("registrado__datos");const v=document.createElement("SPAN");v.classList.add("registrado__label"),v.textContent="Monto: ";const E=document.createElement("P");E.classList.add("registrado__dato"),E.textContent="$ "+parseFloat(r).toLocaleString("en"),m.appendChild(_),m.appendChild(f),g.appendChild(h),g.appendChild(b),L.appendChild(y),L.appendChild(C),S.appendChild(v),S.appendChild(E),p.appendChild(m),p.appendChild(g),p.appendChild(L),p.appendChild(S),Swal.fire({title:"Confirme La informaciÃ³n",html:p,text:"Esta accion no se puede deshacer",icon:"question",showDenyButton:!0,confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then(a=>{a.isConfirmed?async function(a,n,o,s){const c=new FormData;c.append("id",a),c.append("metodo",n);try{const a=await fetch("/api/pagar",{body:c,method:"POST"}),n=await a.json();if(console.log(n),o.style.display="block",s.style.display="block","error"==n.tipo)Swal.fire({icon:"error",title:"Oops",text:n.mensaje});else{Swal.fire({icon:"success",text:n.mensaje});const a=document.querySelector("body"),o=document.createElement("input");for(o.type="hidden",o.id="confirmacionPago",a.appendChild(o);e.firstChild;)e.removeChild(e.firstChild);document.querySelector("#btnPagar").remove(),t()}}catch(e){}}(i,n,o,c):(o.style.display="block",c.style.display="block")})}t()}}(),function(){if(document.querySelector("#tablaRegistrados")){let a;function e(){document.querySelectorAll("#btn_eliminar_registrado").forEach(e=>{e.addEventListener("click",(function(e){t(e)}))})}function t(e){"btn_eliminar_registrado"==e.currentTarget.id&&function(e){const t=e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent,n=e.currentTarget.dataset.registradoId;Swal.fire({title:`Esta seguro que desea eliminar el estrato ${t}?`,text:"Esta accion no se puede deshacer",icon:"question",showDenyButton:!0,confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&async function(e){url="/api/registrados/eliminar?id="+e;try{const e=await fetch(url),t=await e.json();if("error"==t.tipo)return void Swal.fire({icon:"error",title:"Oops...",text:t.mensaje});Swal.fire({icon:"success",text:t.mensaje}),a.ajax.reload()}catch(e){console.log(e)}}(n)})}(e)}$("#tablaRegistrados").on("click","#btn_eliminar_registrado",(function(e){t(e)})),$("#tablaRegistrados").dataTable().fnDestroy(),a=$("#tablaRegistrados").DataTable({ajax:"/api/registrados",deferRender:!0,retrieve:!0,proccesing:!0,responsive:!0}),a.on("draw",e)}}(),function(){const e=document.querySelector("#pagos");if(e){const a=new URL(window.location),n=new URLSearchParams(a.search).get("id");document.querySelector("#cliente"),document.querySelector("#actions");async function t(){document.querySelector("#confirmacionPago")&&document.querySelector("#confirmacionPago").remove();const t=new FormData;t.append("id",n);try{const a="http://localhost:3000/api/pagos",n=await fetch(a,{method:"POST",body:t}),o=await n.json();o&&function(t){for(;e.firstChild;)e.removeChild(e.firstChild);const a=document.createElement("TABLE");a.classList.add("table"),t.forEach(e=>{const{id:t,numero_factura:n,fecha_pago:o,periodo_fin:s,periodo_inicio:c,monto:i,numero_pago:r}=e,l=document.createElement("TR");l.classList.add("table__tr"),l.onclick=function(t){!function(e){const t=document.querySelector(".table__seleccion");t&&t.classList.remove("table__seleccion");e.currentTarget.classList.add("table__seleccion")}(t),function(e){const{id:t,numero_factura:a,numero_pago:n,estrato:o,metodo:s,periodo_inicio:c,periodo_fin:i,monto:r,recaudador:l}=e;!function(){const e=document.querySelector("#payments");for(;e.firstChild;)e.removeChild(e.firstChild)}();const d=document.querySelector("#payments"),u=document.createElement("DIV");u.classList.add("actions__contenedor");document.createElement("DIV").classList.add("actions__info");const p=document.createElement("DIV");p.classList.add("registrado__datos");const m=document.createElement("SPAN");m.classList.add("registrado__label"),m.textContent="Recaudador";const _=document.createElement("P");_.classList.add("registrado__dato"),_.textContent=l;const f=document.createElement("DIV");f.classList.add("registrado__datos");const g=document.createElement("SPAN");g.classList.add("registrado__label"),g.textContent="Periodo";const h=document.createElement("P");h.classList.add("registrado__dato"),h.innerHTML=`${c} &nbsp;- &nbsp;  ${i}`;const b=document.createElement("DIV");b.classList.add("registrado__datos");const L=document.createElement("SPAN");L.classList.add("registrado__label"),L.textContent="Monto ";const y=document.createElement("P");y.classList.add("registrado__dato"),y.textContent="$ "+r;const C=document.createElement("DIV");C.classList.add("registrado__datos");const S=document.createElement("SPAN");S.classList.add("registrado__label"),S.textContent="Metodo ";const v=document.createElement("P");v.classList.add("registrado__dato"),v.textContent=1==s?"Efectivo":"Transferencia",p.appendChild(m),p.appendChild(_),f.appendChild(g),f.appendChild(h),b.appendChild(L),b.appendChild(y),C.appendChild(S),C.appendChild(v),u.appendChild(p),u.appendChild(f),u.appendChild(b),u.appendChild(C),d.appendChild(u);const E=document.createElement("DIV");E.classList.add("actions__botones");const w=document.createElement("SPAN");w.classList.add("actions__boton"),w.onclick=function(){!async function(e){const t="/api/previsualizar-pago?key="+btoa(e);window.open(t,"_blank")}(n)},w.textContent="Previzualizar",E.appendChild(w),d.appendChild(E)}(e)};const d=document.createElement("TD");d.classList.add("table__td"),d.textContent="#"+n;const u=document.createElement("TD");u.classList.add("table__td"),u.innerHTML='<span class="table__span">Fecha de Pago:&nbsp; </span>&nbsp; '+o;const p=document.createElement("TD");p.classList.add("table__td"),p.innerHTML=`<span class="table__span">Periodo:&nbsp; </span>&nbsp; ${c} &nbsp; - &nbsp;${s}`;const m=document.createElement("TD");m.classList.add("table__td"),m.innerHTML=' <span class="table__span">Monto:&nbsp; </span>$ '+i;const _=document.createElement("TD");_.classList.add("table__td"),_.innerHTML=' <span class="table__span">Pago #&nbsp; </span> '+r,l.appendChild(d),l.appendChild(u),l.appendChild(p),l.appendChild(m),l.appendChild(_),a.appendChild(l)}),e.appendChild(a)}(o)}catch(e){console.log(e)}}document.querySelector("body").addEventListener("click",(function(){document.querySelector("#confirmacionPago")&&t()})),t()}}(),function(){const e=document.querySelector("#tablaUsuarios");if(e){let n;function t(){document.querySelectorAll("#btn_eliminar_usuario").forEach(e=>{e.addEventListener("click",(function(e){a(e)}))})}function a(e){const t=e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent,a=e.currentTarget.dataset.usuarioId;Swal.fire({title:`Esta seguro que desea eliminar a  ${t}?`,text:"Esta accion no se puede deshacer",icon:"question",showDenyButton:!0,confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&async function(e){url="/api/usuarios/eliminar?id="+e;try{const e=await fetch(url),t=await e.json();if("error"==t.tipo)return void Swal.fire({icon:"error",title:"Oops...",text:t.mensaje});Swal.fire({icon:"success",text:t.mensaje}),n.ajax.reload()}catch(e){console.log(e)}}(a)})}e.addEventListener("click",(function(e){!function(e){"btn_cambiar_estado"==e.target.id&&function(e){const t=e.target.dataset.estadoActual,a=e.target.parentNode.parentNode.children[1].textContent,o=e.target.dataset.usuarioId;let s="";s=1==t?"Esta seguro que desea desactivar a":"Esta seguro que desea activar a";Swal.fire({title:`${s}  ${a}?`,text:"Esta accion no se puede deshacer",icon:"question",showDenyButton:!0,confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&async function(e){url="/api/usuarios/editar-estado?id="+e;try{const e=await fetch(url),t=await e.json();if("error"==t.tipo)return void Swal.fire({icon:"error",title:"Oops...",text:t.mensaje});Swal.fire({icon:"success",title:t.mensaje}),n.ajax.reload()}catch(e){console.log(e)}}(o)})}(e)}(e)})),$("#tablaUsuarios").on("click","#btn_eliminar_usuario",(function(e){a(e)})),$("#tablaUsuarios").dataTable().fnDestroy(),n=$("#tablaUsuarios").DataTable({ajax:"/api/usuarios",deferRender:!0,retrieve:!0,proccesing:!0,responsive:!0}),n.on("draw",t)}}(),function(){if(document.querySelector("#estrato")){const s=document.querySelector("#tarifa_plena"),c=document.querySelector("#porcentaje_subsidio"),i=document.querySelector("#subsidio"),r=document.querySelector("#copago"),l=document.querySelector("#porcentaje_acu"),d=document.querySelector("#subsidio_acu"),u=document.querySelector("#copago_acu"),p=document.querySelector("#tarifa_plena_acu"),m=document.querySelector("#porcentaje_alc"),_=document.querySelector("#subsidio_alc"),f=document.querySelector("#copago_alc"),g=document.querySelector("#tarifa_plena_alc"),h=document.querySelector("#porcentaje_aseo"),b=document.querySelector("#subsidio_aseo"),L=document.querySelector("#copago_aseo"),y=document.querySelector("#tarifa_plena_aseo"),C=document.querySelector("#ajuste"),S=document.querySelector("#porcentaje_ajuste");function e(e){const t=e.target.value;let a=parseFloat(t.replace(/,/g,""));isNaN(a)&&(a="");const n=a.toLocaleString("en");e.target.value=n}function t(){a(l.value/100,d,u,p),a(m.value/100,_,f,g),a(h.value/100,b,L,y)}function a(e,t,a,n){const i=s.value,r=c.value/100;if(""!=i&&""!=r&&""!=e){const s=parseFloat(i.replace(/,/g,""));o(s*r*e,1*(s*(1-r)*e).toFixed(2),t,a,n,(s*e).toLocaleString("en"))}else t.value=0,a.value=0,n.value=0}function n(){const e=s.value,t=c.value/100;if(""!=e&&""!=t){const a=parseFloat(e.replace(/,/g,""));o(a*t,1*(a*(1-t)).toFixed(2),i,r)}else i.value="",r.value=""}function o(e,t,a,n,o=[],s=""){""!=s&&(o.value=s);const c=e.toLocaleString("en"),i=t.toLocaleString("en");a.value=c,n.value=i}s.addEventListener("input",(function(a){e(a),n(),t(),C.value="",S.value=""})),c.addEventListener("input",(function(e){const a=1*e.target.value;(a<0||a>100)&&(e.target.value=""),n(),t(),C.value="",S.value=""})),l.addEventListener("input",(function(e){(1*e.target.value<0||1*e.target.value>100)&&(e.target.value="");a(e.target.value/100,d,u,p)})),m.addEventListener("input",(function(e){(1*e.target.value<0||1*e.target.value>100)&&(e.target.value="");a(e.target.value/100,_,f,g)})),h.addEventListener("input",(function(e){(1*e.target.value<0||1*e.target.value>100)&&(e.target.value="");a(e.target.value/100,b,L,y)})),S.addEventListener("input",(function(){(1*S.value<0||1*S.value>100)&&(S.value="");if(""!=r.value&&""!=S.value&&0!=r.value){const e=parseFloat(r.value.replace(/,/g,"")),t=(S.value/100*e).toFixed(2);C.value=parseFloat(t).toLocaleString("en")}else C.value="",S.value=""})),C.addEventListener("input",(function(t){!function(){if(""!=r.value&&""!=C.value&&0!=r.value){const e=parseFloat(C.value.replace(/,/g,"")),t=parseFloat(r.value.replace(/,/g,""));if(e>t)return C.value="",void(S.value="");const a=1*(100*e/t).toFixed(2);S.value=a}else C.value="",S.value=""}(),e(t)}))}}(),function(){if(document.querySelector("#tablaEstratos")){let a;function e(){document.querySelectorAll("#btn_info_estrato").forEach(e=>{e.addEventListener("click",(function(e){!async function(e){const t="/api/estratos/info?id="+e.currentTarget.dataset.estratoId;try{const e=await fetch(t),a=await e.json();if("error"==a.tipo)return void Swal.fire({icon:"error",title:"Oops...",text:a.mensaje});!function(e){const t=document.createElement("DIV");t.classList.add("modal"),t.innerHTML=`\n                <div class="modal__informacion" id="info">\n                    <h3>InformaciÃ³n del Estrato </h3>\n                    \n                    <ul class="modal__lista">\n                         <li class="modal__elemento modal__elemento--grid">\n                           \n                            <p class="modal__info">Estrato: <span>${e.estrato}</span></p>\n                            <p class="modal__info">AÃ±o Vigente: <span>${e.year}</span></p>\n                            <p class="modal__info">Tarifa Plena: <span>${parseFloat(e.tarifa_plena).toLocaleString("en")}</span></p>\n                            <p class="modal__info">NÃºmero de Facturas Vencidas: <span>${e.facturas_vencidas}</span></p>\n        \n                         </li>\n                   \n\n                         <li class="modal__elemento modal__elemento--grid">\n                            <p class="modal__info">Porcentaje Subsidio: <span>${e.porcentaje_subsidio}%</span></p>\n                            <p class="modal__info">Porcentaje Copago: <span>${e.porcentaje_copago}%</span></p>\n                            <p class="modal__info">Subsidio: <span>${parseFloat(e.subsidio).toLocaleString("en")}</span></p>\n                            <p class="modal__info">Copago: <span>${parseFloat(e.copago).toLocaleString("en")}</span></p>\n                         </li>\n                        \n                         <li class="modal__elemento modal__elemento--grid">\n                            <p class="modal__info">Porcentaje Acueducto: <span>${parseFloat(e.porcentaje_acu).toLocaleString("en")}%</span></p>\n                            <p class="modal__info">Tarifa Plena Acueducto: <span>${parseFloat(e.tarifa_plena_acu).toLocaleString("en")}</span></p>\n                            <p class="modal__info">Valor Subsidio Acueducto: <span>${parseFloat(e.subsidio_acu).toLocaleString("en")}</span></p>\n                            <p class="modal__info">Valor Copago Acueducto : <span>${parseFloat(e.copago_acu).toLocaleString("en")}</span></p>\n                         </li>\n                         \n                         <li class="modal__elemento modal__elemento--grid">\n                            <p class="modal__info">Porcentaje Alcantarillado: <span>${parseFloat(e.porcentaje_alc).toLocaleString("en")}%</span></p>\n                            <p class="modal__info">Tarifa Plena Alcantarillado: <span>${parseFloat(e.tarifa_plena_alc).toLocaleString("en")}</span></p>\n                            <p class="modal__info">Valor Subsidio Alcantarillado: <span>${parseFloat(e.subsidio_alc).toLocaleString("en")}</span></p>\n                            <p class="modal__info">Valor Copago Alcantarillado : <span>${parseFloat(e.copago_alc).toLocaleString("en")}</span></p>\n                         </li>\n                         \n                         <li class="modal__elemento modal__elemento--grid">\n                            <p class="modal__info">Porcentaje Aseo: <span>${parseFloat(e.porcentaje_aseo).toLocaleString("en")}%</span></p>\n                            <p class="modal__info">Tarifa Plena Aseo: <span>${parseFloat(e.tarifa_plena_aseo).toLocaleString("en")}</span></p>\n                            <p class="modal__info">Valor Subsidio Aseo: <span>${parseFloat(e.subsidio_aseo).toLocaleString("en")}</span></p>\n                            <p class="modal__info">Valor Copago Aseo : <span>${parseFloat(e.copago_aseo).toLocaleString("en")}</span></p>\n                         </li>\n                         <li class="modal__elemento modal__elemento--grid">\n                            <p class="modal__info">Porcentaje Ajuste: <span>${parseFloat(e.porcentaje_ajuste).toLocaleString("en")}%</span></p>\n                            <p class="modal__info">Tarifa Plena Ajuste: <span>${parseFloat(e.ajuste).toLocaleString("en")}</span></p>\n                           \n                         </li>\n                         \n                        \n                    </ul>\n\n                    <div class="modal__opciones">\n                      \n             \n                      \n                        <button type="button" class="modal__cerrar-modal">Cerrar</button>\n                    </div>\n                    \n                </div>\n            `,setTimeout(()=>{document.querySelector("#info").classList.add("modal__informacion--animar")},10),t.addEventListener("click",(function(e){if(e.preventDefault(),e.target.classList.contains("modal__cerrar-modal")){document.querySelector("#info").classList.add("modal__informacion--cerrar"),setTimeout(()=>{t.remove()},500)}})),document.querySelector(".dashboard__contenedor").appendChild(t)}(a)}catch(e){console.log(e)}}(e)}))});document.querySelectorAll("#btn_eliminar_estrato").forEach(e=>{e.addEventListener("click",(function(e){t(e)}))})}function t(e){const t=e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent,n=e.currentTarget.dataset.estratoId;Swal.fire({title:`Esta seguro que desea eliminar el estrato ${t}?`,text:"Esta accion no se puede deshacer",icon:"question",showDenyButton:!0,confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&async function(e){url="/api/estratos/eliminar?id="+e;try{const e=await fetch(url),t=await e.json();if("error"==t.tipo)return void Swal.fire({icon:"error",title:"Oops...",text:t.mensaje});Swal.fire({icon:"success",text:t.mensaje}),a.ajax.reload()}catch(e){console.log(e)}}(n)})}$("#tablaEstratos").on("click","#btn_eliminar_estrato",(function(e){t(e)})),$("#tablaEstratos").dataTable().fnDestroy(),a=$("#tablaEstratos").DataTable({ajax:"/api/estratos",deferRender:!0,retrieve:!0,proccesing:!0,responsive:!0}),a.on("draw",e)}}();
//# sourceMappingURL=bundle.js.map
