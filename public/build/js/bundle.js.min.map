{"version":3,"sources":["desabilitarBtnSubmit.js","redireccion.js","dashboard/facturas.js","cajas/abrir.js","cajas/cajasPagos.js","cajas/index.js","registrados/facturas.js","registrados/index.js","registrados/pagos.js","usuarios/index.js","estratos/crear.js","estratos/index.js"],"names":["document","querySelector","addEventListener","e","setTimeout","target","disabled","classList","add","alertaExitoFormulario","formulario","style","display","remove","urlActual","window","location","href","includes","redireccionar","btnImprimirFacturas","contenedorSwitch","btnGenerarFacturas","alertaGenerarFacturasAuto","console","log","Swal","fire","title","showDenyButton","confirmButtonText","denyButtonText","then","result","isConfirmed","async","removeEventListener","respuesta","fetch","resultado","json","icon","type","text","msg","error","generarFacturas","revisarGeneraAuto","auto","checkbox","createElement","id","contains","checked","onchange","estado","datos","FormData","append","body","method","cambiarEstadoAuto","slider","appendChild","generarCheckBox","eliminarFacturas","open","efectivo_inicial","value","efectivo_inicial_sin_formato","parseFloat","replace","isNaN","efectivo_inicial_formateada","toLocaleString","formaterValor","tablaCajasPagos","URL","URLSearchParams","search","get","Number","isInteger","parseInt","$","dataTable","fnDestroy","DataTable","ajax","deferRender","retrieve","proccesing","responsive","url","success","req","responseText","tablaCajasData","alertaCierre","tipo","mensaje","reload","cerrarCaja","on","this","data","dataset","cajaId","contenedorFactura","nombreCliente","consultarFacturas","valorDeuda","deuda","textContent","imprimirDeuda","facturas","tabla","forEach","factura","numero_factura","fecha_emision","periodo_fin","periodo_inicio","copago","pagado","ajuste","mesActual","Date","getMonth","arregloFecha","split","diferenciaFechas","tr","onclick","seleccionAnterior","currentTarget","seleccionFactura","estrato","acciones","firstChild","removeChild","limpiarHtml","accionesContenedor","accionesCliente","clienteLabel","clienteDato","accionesEstrato","estratoLabel","estratoDato","accionesPeriodo","periodoLabel","periodoDato","innerHTML","accionesMonto","montoLabel","montoDato","botonesContenedor","btnVerFactura","btoa","previsualizarFactura","btnPagar","btnBanco","pagarFactura","informacionFactura","tdNumeroFactura","tdEmitida","tdPeriodo","tdMonto","tdEstado","imprimirResultados","metodo","registrado","metodoDatos","metodoLabel","metodoDato","registradoDatos","registradoLabel","registradoDato","periodoDatos","montoDatos","html","inputHidden","enviarInformacionPagar","tablaRegistradosData","eventosClickEditar","querySelectorAll","btnEliminar","leerAccion","parentNode","children","registradoId","enviarInformacionEliminar","eliminarRegistrado","contenedorPagado","consultarPagos","pagos","pago","fecha_pago","monto","numero_pago","seleccionarPago","recaudador","accionesRecaudador","recaudadorLabel","recaudadorDato","accionesMetodo","previsualizarComprobante","informacionPago","tdFechaPago","tdNumeroPago","tablaUsuarios","tablaUsuariosData","eventosClick","eliminarUsuario","nombre","usuarioId","estadoActual","mensajeAlerta","enviarInformacionEstado","editarEstado","tarifaPlenaInput","porcentajeSubsidioInput","subsidioInput","copagoInput","porcentajeAcuInput","subsidioAcuInput","copagoAcuInput","totalAcuInput","porcentajeAlcInput","subsidioAlcInput","copagoAlcInput","totalAlcInput","porcentajeAseoInput","subsidioAseoInput","copagoAseoInput","totalAseoInput","ajusteInput","porcentajeAjusteInput","tarifa_plena","tarifa_plena_sin_formato","tarifa_plena_formateada","revisarValores","calcularDatos","porcentaje","subsidioInputRef","copagoInputRef","totalInputRef","porcentaje_subsidio","insertarDatos","toFixed","calcularSubsidioCopago","subsidio","referencia1","referencia2","referencia3","total","valor_subsidio","valor_copago","valor_ajuste","porcentaje_ajuste","calcularPorcentajeAjuste","tablaEstratosData","btnInfo","estratoId","modal","year","facturas_vencidas","porcentaje_copago","preventDefault","mostrarInfo","infoEstrato","eliminarEstrato"],"mappings":"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","file":"bundle.js","sourcesContent":["\r\n\r\n(function(){\r\n \r\n    const formulario =  document.querySelector('.formulario');\r\n\r\n    if(formulario){\r\n        \r\n        const btnSubmit = document.querySelector('.formulario [type=\"submit\"]');\r\n        \r\n        btnSubmit.addEventListener('click',deshabilitarBoton);\r\n        function deshabilitarBoton(e){\r\n            setTimeout(()=>{\r\n                e.target.disabled = true;\r\n                e.target.classList.add('formulario__submit--deshabilitado');\r\n            },0)\r\n           \r\n        }\r\n    }\r\n})();","\r\n\r\n(function(){\r\n    const alertaExitoFormulario = document.querySelector('.alerta__exito');\r\n    const formulario = document.querySelector('.formulario');\r\n    if(alertaExitoFormulario){\r\n        formulario.style.display='none';\r\n        setTimeout(()=>{\r\n            alertaExitoFormulario.remove();\r\n            redireccionar();\r\n\r\n        },3000);\r\n\r\n        function redireccionar(){\r\n            const urlActual = window.location.href;\r\n            if(urlActual.includes('/admin/usuarios/')){\r\n                window.location.href = '/admin/usuarios';\r\n            }\r\n            if(urlActual.includes('/admin/estratos/')){\r\n                window.location.href = '/admin/estratos';\r\n            }\r\n            if(urlActual.includes('/admin/registrados/')){\r\n                window.location.href = '/admin/registrados';\r\n            }\r\n            if(urlActual.includes('/admin/cajas/')){\r\n                window.location.href = '/admin/cajas';\r\n            }\r\n        }\r\n    }\r\n\r\n})();\r\n\r\n\r\n\r\n  \r\n","\r\n\r\n(function(){\r\n    \r\n    const btnImprimirFacturas = document.querySelector('#btnImprimirFacturas');\r\n    if(btnImprimirFacturas){\r\n        const contenedorSwitch = document.querySelector('#switch');\r\n        const btnGenerarFacturas = document.querySelector('#btnGenerarFacturas');\r\n     \r\n        const btnEliminarFacturas  = document.querySelector('#btnEliminarFacturas');\r\n\r\n        btnEliminarFacturas.addEventListener('click',alertaEliminarFacturas)\r\n      \r\n\r\n        revisarGeneraAuto();\r\n\r\n        function alertaEliminarFacturas(){\r\n            Swal.fire({\r\n                title: 'Esta seguro de generar las facturas de este mes?',\r\n              \r\n             \r\n                showDenyButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    eliminarFacturas();\r\n                }\r\n              })\r\n        }\r\n\r\n        async function eliminarFacturas(){\r\n            try {\r\n                const respuesta = await fetch('/api/eliminar-facturas');\r\n                const resultado = await respuesta.json();\r\n                console.log(resultado)\r\n                Swal.fire({\r\n                    icon: resultado.type,\r\n        \r\n                    text: resultado.msg\r\n                })\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        btnImprimirFacturas.addEventListener('click',function(){\r\n            const url = '/api/facturas'\r\n            //const url = `${location.origin}/api/facturas`\r\n            window.open(url, '_blank');\r\n        })\r\n\r\n        function alertaGenerarFacturasAuto(){\r\n            console.log('asdf')\r\n            Swal.fire({\r\n                title: 'Esta seguro de generar las facturas de este mes?',\r\n              \r\n             \r\n                showDenyButton: true,\r\n                confirmButtonText: 'Generar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                     generarFacturas();\r\n                }\r\n              })\r\n        }\r\n\r\n        async function generarFacturas(){\r\n            btnGenerarFacturas.removeEventListener('click', alertaGenerarFacturasAuto)\r\n            btnGenerarFacturas.classList.add('inicio__boton-generar--inactivo');\r\n              \r\n            try {\r\n                const respuesta = await fetch('/api/generar-facturas-manual');\r\n            \r\n                const resultado = await respuesta.json()\r\n                btnGenerarFacturas.classList.remove('inicio__boton-generar--inactivo');\r\n                btnGenerarFacturas.addEventListener('click', alertaGenerarFacturasAuto)\r\n                    Swal.fire({\r\n                        icon: resultado.type,\r\n            \r\n                        text: resultado.msg\r\n                    })\r\n     \r\n               \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        async function cambiarEstadoAuto(estado){\r\n            let auto;\r\n            if(estado){\r\n                auto = 1;\r\n            }else{\r\n                auto = 0;\r\n            }\r\n\r\n\r\n\r\n      \r\n            const datos = new FormData();\r\n            datos.append('id',1)\r\n            datos.append('auto',auto);\r\n\r\n            const url = `{location.origin}/api/generar-auto`;\r\n           \r\n            try {\r\n                await fetch(url,{\r\n                    body:datos,\r\n                    method:'POST'\r\n                })\r\n          \r\n             \r\n                revisarGeneraAuto()\r\n            \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        async function revisarGeneraAuto(){\r\n\r\n\r\n         \r\n            try {\r\n                const respuesta = await fetch('/api/generar-auto');\r\n               \r\n                const resultado = await respuesta.json()\r\n                console.log(resultado)\r\n                const auto = resultado.auto;\r\n                generarCheckBox(auto);\r\n               \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n\r\n    \r\n        }\r\n\r\n        function generarCheckBox(auto){\r\n            const checkbox = document.createElement('INPUT')\r\n            checkbox.type=\"checkbox\"\r\n            checkbox.id = \"checkbox\";\r\n        \r\n            if(btnGenerarFacturas.classList.contains('inicio__boton-generar--inactivo')){\r\n                btnGenerarFacturas.classList.remove('inicio__boton-generar--inactivo')\r\n            }\r\n            if(auto==1){\r\n                checkbox.checked = true\r\n                btnGenerarFacturas.classList.add('inicio__boton-generar--inactivo');\r\n                btnGenerarFacturas.removeEventListener('click', alertaGenerarFacturasAuto)\r\n\r\n                \r\n            }else{\r\n                checkbox.checked = false\r\n                btnGenerarFacturas.addEventListener('click', alertaGenerarFacturasAuto)\r\n            \r\n            }\r\n            checkbox.onchange = function(){\r\n                setTimeout(()=>{\r\n                    cambiarEstadoAuto(checkbox.checked)\r\n                },300)\r\n                \r\n            }\r\n            \r\n            const slider = document.createElement('DIV')\r\n \r\n            slider.classList.add('slider', 'round');\r\n            contenedorSwitch.appendChild(checkbox)\r\n            contenedorSwitch.appendChild(slider)\r\n\r\n        }\r\n\r\n    }\r\n\r\n})();","(function(){\r\n    const caja = document.querySelector('#caja');\r\n    if(caja){\r\n        const efectivoInicialInput = document.querySelector('#efectivo_inicial');\r\n        efectivoInicialInput.addEventListener('input',function(e){\r\n            formaterValor(e)\r\n        })\r\n        function formaterValor(e){\r\n        \r\n        \r\n            const efectivo_inicial = e.target.value;\r\n            let efectivo_inicial_sin_formato = parseFloat(efectivo_inicial.replace(/,/g, ''));\r\n            if(isNaN(efectivo_inicial_sin_formato)){\r\n                efectivo_inicial_sin_formato = '';\r\n            }\r\n            const efectivo_inicial_formateada =  efectivo_inicial_sin_formato.toLocaleString('en');\r\n            e.target.value = efectivo_inicial_formateada ;\r\n        }\r\n    }\r\n\r\n})();","(function(){\r\n    const infoCaja = document.querySelector('#tablaCajasPagos')\r\n \r\n    if(infoCaja){\r\n        let tablaCajasPagos;\r\n        const urlActual = new URL(window.location);\r\n        const params = new URLSearchParams(urlActual.search);\r\n        const id = params.get('id');\r\n        const infoCaja = document.querySelector('#tablaCajasPagos')\r\n    \r\n       \r\n        mostrarEstratos();\r\n        function mostrarEstratos(){\r\n            \r\n            if(Number.isInteger(parseInt(id))){\r\n                $(\"#tablaCajasPagos\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n        \r\n                tablaCajasPagos = $('#tablaCajasPagos').DataTable({\r\n                    ajax:'/api/cajas/pagos?id='+id,\r\n                    \"deferRender\":true,\r\n                    \"retrieve\":true,\r\n                    \"proccesing\":true,\r\n                    responsive:true\r\n                });\r\n            \r\n                $.ajax({\r\n                    url:'/api/cajas/pagos?id='+id,\r\n                    \r\n                    success:function(req){\r\n                        console.log(req)\r\n                    },\r\n                    error:function(error){\r\n                        console.log(error.responseText);\r\n                    }\r\n                    \r\n                })\r\n              \r\n            }else{\r\n                window.location.href='/admin/cajas'\r\n            }\r\n            \r\n        }\r\n    }\r\n})();","\r\n(function(){\r\n    const tablaCajas = document.querySelector('#tablaCajas');\r\n    if(tablaCajas){\r\n        \r\n\r\n        let tablaCajasData;\r\n\r\n        $('#tablaCajas').on('click', '#estadoCaja', function(e) {\r\n            // Manejar el evento aquí\r\n            const id = $(this).data('cajaId');\r\n            alertaCierre(id);\r\n        });\r\n       \r\n\r\n        mostrarEstratos();\r\n        verificarCargaTabla();\r\n        function verificarCargaTabla(){\r\n        \r\n            tablaCajasData.on('draw', function(){\r\n                const estadoCaja = document.querySelector('#estadoCaja');\r\n           \r\n                estadoCaja.addEventListener('dblclick',function(e){\r\n                   \r\n                    const id = e.target.dataset.cajaId;\r\n                    alertaCierre(id);\r\n                })\r\n            });\r\n        }\r\n\r\n        function alertaCierre(id){\r\n            Swal.fire({\r\n                \r\n                title: 'Esta Seguro de Cerrar esta Caja?',\r\n                text:'Esta acción no se puede deshacer',\r\n                icon:'warning',\r\n                showDenyButton: true,\r\n          \r\n                confirmButtonText: 'Seguro',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                \r\n\r\n                if (result.isConfirmed) {\r\n                 \r\n                   cerrarCaja(id);\r\n                } \r\n              })\r\n        }\r\n\r\n        async function cerrarCaja(id){\r\n           \r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n   \r\n            try {\r\n                const url = '/api/cajas/cerrar';\r\n                //const url =`${location.origin}/api/cajas/cerrar`;\r\n                //const url = 'http://localhost:3000/api/cajas/cerrar';\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method:'POST'\r\n                });\r\n                const resultado = await respuesta.json();\r\n                \r\n                if(resultado.tipo == 'success'){\r\n                    if(resultado.tipo=='error'){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: resultado.mensaje,\r\n            \r\n                        })\r\n                        return;\r\n                    }\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                      \r\n                        text: resultado.mensaje,\r\n                        \r\n                    })\r\n                    tablaCajasData.ajax.reload(); \r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function mostrarEstratos(){\r\n            $(\"#tablaCajas\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n        \r\n            tablaCajasData = $('#tablaCajas').DataTable({\r\n                ajax: '/api/cajas',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/cajas',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n\r\n    }\r\n})();\r\n\r\n\r\n","\r\n\r\n(function(){\r\n    const contenedorFactura = document.querySelector('#facturas');\r\n    if(contenedorFactura){\r\n            const urlActual = new URL(window.location);\r\n            const params = new URLSearchParams(urlActual.search);\r\n            const id = params.get('id');\r\n            const nombreCliente = document.querySelector('#cliente')\r\n           \r\n            consultarFacturas();\r\n\r\n            async function consultarFacturas(){\r\n\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                \r\n                try {\r\n                    const url = 'http://localhost:3000/api/facturas-registrado'\r\n                    const respuesta = await fetch(url, {\r\n                        method:'POST',\r\n                        body: datos\r\n                    });\r\n                    const resultado = await respuesta.json();\r\n                    if(resultado){\r\n                  \r\n                        imprimirDeuda(resultado.deuda);\r\n                        imprimirResultados(resultado.facturas);\r\n                    }\r\n                                  \r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n            function imprimirDeuda(valorDeuda){\r\n                const deuda = document.querySelector('#deuda')\r\n                deuda.classList = [];\r\n                deuda.classList.add('deuda__valor')\r\n                if(valorDeuda==0){\r\n                    \r\n                    deuda.classList.add('deuda__valor--pagado')\r\n                }else{\r\n                    deuda.classList.add('deuda__valor--vencido')\r\n                }\r\n                deuda.textContent = `$ ${valorDeuda.toLocaleString('en')}`\r\n            }\r\n\r\n            function imprimirResultados(facturas){\r\n                \r\n\r\n                \r\n                const tabla = document.createElement('TABLE');\r\n                tabla.classList.add('table');\r\n\r\n                facturas.forEach(factura => {\r\n  \r\n                    const {id, numero_factura, fecha_emision, periodo_fin, periodo_inicio, copago, pagado, ajuste} = factura\r\n                    const dateFechaActual = new Date();\r\n                    const mesActual = dateFechaActual.getMonth()+1;\r\n                 \r\n                    const arregloFecha = fecha_emision.split('-');\r\n                    const mesEmision = parseFloat(arregloFecha[1])\r\n                    \r\n                   \r\n                   const diferenciaFechas = mesActual - mesEmision;\r\n                   \r\n                   \r\n                \r\n              \r\n                    const tr = document.createElement('TR');\r\n                    tr.classList.add('table__tr')\r\n                    // tr.dataset.facturaId = id;\r\n                    tr.onclick = function(e){\r\n                        seleccionFactura(e);\r\n                        informacionFactura(factura);\r\n                    }\r\n\r\n                    const tdNumeroFactura = document.createElement('TD');\r\n                    tdNumeroFactura.classList.add('table__td');\r\n                    tdNumeroFactura.textContent = `#${numero_factura}`\r\n\r\n                    const tdEmitida = document.createElement('TD');\r\n                    tdEmitida.classList.add('table__td');\r\n                    tdEmitida.innerHTML = `<span class=\"table__span\">Emitida:&nbsp; </span>&nbsp; ${fecha_emision}`;\r\n\r\n                    const tdPeriodo = document.createElement('TD');\r\n                    tdPeriodo.classList.add('table__td');\r\n                    tdPeriodo.innerHTML = `<span class=\"table__span\">Periodo:&nbsp; </span>&nbsp; ${periodo_inicio} &nbsp; - &nbsp;${periodo_fin}`\r\n\r\n                    const tdMonto = document.createElement('TD');\r\n                    tdMonto.classList.add('table__td');\r\n                    tdMonto.innerHTML = ` <span class=\"table__span\">Monto:&nbsp; </span>$ ${parseFloat((copago-ajuste)).toLocaleString('en')}`\r\n\r\n                    const tdEstado = document.createElement('TD');\r\n                    tdEstado.classList.add('table__td');\r\n                    if(diferenciaFechas>0 && pagado==0){\r\n                        tdEstado.innerHTML = ` <span class=\"table__boton table__boton--vencida\">Impaga</span>`\r\n                    }else{\r\n                        tdEstado.innerHTML = ` <span class=\"table__boton table__boton--${ pagado== 1?'pagado':'impaga'}\">${pagado == 1?'Pagado':'Impaga'}</span>`\r\n                    \r\n                    }   \r\n                     \r\n                   \r\n\r\n\r\n\r\n                    tr.appendChild(tdNumeroFactura)\r\n                    tr.appendChild(tdEmitida)\r\n                    tr.appendChild(tdPeriodo)\r\n                    tr.appendChild(tdMonto)\r\n                    tr.appendChild(tdEstado)\r\n                    tabla.appendChild(tr);\r\n\r\n\r\n                });\r\n                \r\n                \r\n                \r\n                \r\n                contenedorFactura.appendChild(tabla)\r\n\r\n            }\r\n\r\n            function informacionFactura(factura){\r\n                const {id, numero_factura, fecha_emision, estrato, periodo_inicio, periodo_fin, copago, pagado} = factura;\r\n               \r\n           \r\n                limpiarHtml();\r\n                const acciones = document.querySelector('#actions')\r\n              \r\n\r\n                const accionesContenedor = document.createElement('DIV');\r\n                accionesContenedor.classList.add('actions__contenedor')\r\n              \r\n              \r\n                const accionesInfo = document.createElement('DIV');\r\n                accionesInfo.classList.add('actions__info');\r\n\r\n                /* cliente */\r\n\r\n                const accionesCliente = document.createElement('DIV');\r\n                accionesCliente.classList.add('registrado__datos');\r\n\r\n                const clienteLabel = document.createElement('SPAN');\r\n                clienteLabel.classList.add('registrado__label');\r\n                clienteLabel.textContent = 'Cliente'\r\n                \r\n                const clienteDato = document.createElement('P');\r\n                clienteDato.classList.add('registrado__dato');\r\n                clienteDato.textContent = nombreCliente.textContent\r\n                \r\n                /* estrato */\r\n\r\n                \r\n                \r\n                const accionesEstrato = document.createElement('DIV');\r\n                accionesEstrato.classList.add('registrado__datos');\r\n\r\n                \r\n                const estratoLabel = document.createElement('SPAN');\r\n                estratoLabel.classList.add('registrado__label');\r\n                estratoLabel.textContent = 'Estrato'\r\n                \r\n                const estratoDato = document.createElement('P');\r\n                estratoDato.classList.add('registrado__dato');\r\n                estratoDato.textContent = estrato\r\n\r\n                /* Periodo */\r\n\r\n                const accionesPeriodo = document.createElement('DIV');\r\n                accionesPeriodo.classList.add('registrado__datos');\r\n\r\n                \r\n                const periodoLabel = document.createElement('SPAN');\r\n                periodoLabel.classList.add('registrado__label');\r\n                periodoLabel.textContent = 'Periodo'\r\n                \r\n                const periodoDato = document.createElement('P');\r\n                periodoDato.classList.add('registrado__dato');\r\n                \r\n                periodoDato.innerHTML = `${periodo_inicio} &nbsp;- &nbsp;  ${periodo_fin}`\r\n\r\n                /* Monto */\r\n\r\n                const accionesMonto = document.createElement('DIV');\r\n                accionesMonto.classList.add('registrado__datos');\r\n\r\n                \r\n                const montoLabel = document.createElement('SPAN');\r\n                montoLabel.classList.add('registrado__label');\r\n                montoLabel.textContent = 'Monto '\r\n                \r\n                const montoDato = document.createElement('P');\r\n                montoDato.classList.add('registrado__dato');\r\n                montoDato.textContent =`$ ${(parseFloat(copago)).toLocaleString('en')}`;\r\n                \r\n\r\n                \r\n\r\n                accionesCliente.appendChild(clienteLabel);\r\n                accionesCliente.appendChild(clienteDato);\r\n\r\n                accionesEstrato.appendChild(estratoLabel);\r\n                accionesEstrato.appendChild(estratoDato);\r\n                \r\n                accionesPeriodo.appendChild(periodoLabel);\r\n                accionesPeriodo.appendChild(periodoDato);\r\n\r\n                accionesMonto.appendChild(montoLabel);\r\n                accionesMonto.appendChild(montoDato);\r\n    \r\n                accionesContenedor.appendChild(accionesCliente);\r\n                accionesContenedor.appendChild(accionesEstrato);\r\n                accionesContenedor.appendChild(accionesPeriodo);\r\n                accionesContenedor.appendChild(accionesMonto);\r\n\r\n                acciones.appendChild(accionesContenedor)\r\n\r\n                //Botones \r\n                const botonesContenedor = document.createElement('DIV');\r\n                botonesContenedor.classList.add('actions__botones');\r\n\r\n                const btnVerFactura =  document.createElement('SPAN');\r\n                btnVerFactura.classList.add('actions__boton');\r\n\r\n                btnVerFactura.onclick = function(){\r\n                    previsualizarFactura(numero_factura);\r\n                }\r\n                btnVerFactura.textContent = 'Previzualizar';\r\n\r\n               \r\n\r\n                if(pagado==0){\r\n                    const btnPagar =  document.createElement('SPAN');\r\n                    btnPagar.classList.add('actions__boton');\r\n                    btnPagar.textContent = 'Pago Efectivo';\r\n                    btnPagar.id = 'btnPagar';\r\n                   \r\n                    const btnBanco =  document.createElement('SPAN');\r\n                    btnBanco.classList.add('actions__boton');\r\n                    btnBanco.textContent = 'transferencia';\r\n                    btnBanco.id = 'btnBanco';\r\n\r\n                    btnPagar.onclick = function(){\r\n                        btnBanco.style.display = 'none'\r\n                        btnPagar.style.display = 'none'\r\n                        pagarFactura(factura, 1, btnPagar,btnBanco);\r\n                    }\r\n                    btnBanco.onclick = function(){\r\n                        btnBanco.style.display = 'none'\r\n                        btnPagar.style.display = 'none'\r\n                        pagarFactura(factura, 0, btnPagar,btnBanco);\r\n                    }\r\n    \r\n                 \r\n                    botonesContenedor.appendChild(btnPagar);\r\n                    botonesContenedor.appendChild(btnBanco);\r\n                }\r\n\r\n                botonesContenedor.appendChild(btnVerFactura);\r\n\r\n                acciones.appendChild(botonesContenedor);\r\n\r\n            }\r\n\r\n            async function previsualizarFactura(numero_factura){\r\n               \r\n\r\n                const url =`/api/previsualizar-factura?key=${btoa(numero_factura)}`;\r\n                // Abre la URL en una nueva pestaña\r\n                window.open(url, '_blank');\r\n\r\n              \r\n            }\r\n\r\n            function pagarFactura(factura, metodo, btnPagar,btnBanco){\r\n                const {id,copago, periodo_inicio, periodo_fin, numero_factura}  = factura;\r\n   \r\n\r\n                const registrado = document.createElement('DIV');\r\n                registrado.classList.add('registrado');\r\n\r\n                const metodoDatos = document.createElement('DIV');\r\n                metodoDatos.classList.add('registrado__datos');\r\n\r\n                const metodoLabel = document.createElement('SPAN');\r\n                metodoLabel.classList.add('registrado__label');\r\n                metodoLabel.textContent = 'Metodo de Pago:'\r\n\r\n                const metodoDato = document.createElement('P');\r\n                metodoDato.classList.add('registrado__dato')\r\n                metodoDato.textContent = metodo==1?'Efectivo':'Transferencia';\r\n\r\n                const registradoDatos = document.createElement('DIV');\r\n                registradoDatos.classList.add('registrado__datos');\r\n\r\n                const registradoLabel = document.createElement('SPAN');\r\n                registradoLabel.classList.add('registrado__label');\r\n                registradoLabel.textContent = 'Cliente:'\r\n\r\n                const registradoDato = document.createElement('P');\r\n                registradoDato.classList.add('registrado__dato')\r\n                registradoDato.textContent = nombreCliente.textContent;\r\n\r\n                const periodoDatos = document.createElement('DIV');\r\n                periodoDatos.classList.add('registrado__datos');\r\n\r\n                \r\n                const periodoLabel = document.createElement('SPAN');\r\n                periodoLabel.classList.add('registrado__label');\r\n                periodoLabel.textContent = 'Periodo:'\r\n                \r\n                const periodoDato = document.createElement('P');\r\n                periodoDato.classList.add('registrado__dato');\r\n                periodoDato.innerHTML = `${periodo_inicio} &nbsp;- &nbsp;  ${periodo_fin}`\r\n\r\n                /* Monto */\r\n\r\n                const montoDatos = document.createElement('DIV');\r\n                montoDatos.classList.add('registrado__datos');\r\n\r\n                \r\n                const montoLabel = document.createElement('SPAN');\r\n                montoLabel.classList.add('registrado__label');\r\n                montoLabel.textContent = 'Monto: '\r\n                \r\n                const montoDato = document.createElement('P');\r\n                montoDato.classList.add('registrado__dato');\r\n                montoDato.textContent =`$ ${(parseFloat(copago)).toLocaleString('en')}`;\r\n                \r\n\r\n                \r\n\r\n                \r\n\r\n                metodoDatos.appendChild(metodoLabel);\r\n                metodoDatos.appendChild(metodoDato);\r\n\r\n                registradoDatos.appendChild(registradoLabel);\r\n                registradoDatos.appendChild(registradoDato);\r\n            \r\n                periodoDatos.appendChild(periodoLabel)\r\n                periodoDatos.appendChild(periodoDato)\r\n\r\n                montoDatos.appendChild(montoLabel)\r\n                montoDatos.appendChild(montoDato)\r\n\r\n                registrado.appendChild(metodoDatos);\r\n                registrado.appendChild(registradoDatos);\r\n                registrado.appendChild(periodoDatos);\r\n                registrado.appendChild(montoDatos);\r\n\r\n               \r\n  \r\n\r\n                Swal.fire({\r\n                    title: `Confirme La información`,\r\n                    html: registrado,\r\n                    text:'Esta accion no se puede deshacer',\r\n                    icon: 'question',\r\n                    showDenyButton: true,\r\n                    confirmButtonText: 'Aceptar',\r\n                    denyButtonText: `Cancelar`,\r\n                  }).then((result) => {\r\n                    /* Read more about isConfirmed, isDenied below */\r\n                    if (result.isConfirmed) {\r\n                        enviarInformacionPagar(id, metodo, btnPagar, btnBanco);\r\n                        \r\n                      //Swal.fire('Saved!', '', 'success')\r\n                    }else{\r\n                        btnPagar.style.display = 'block'\r\n                        btnBanco.style.display  = 'block'\r\n                    }\r\n                  })\r\n            }\r\n\r\n            async function enviarInformacionPagar(id, metodo, btnPagar, btnBanco){\r\n                //const url =  'http://localhost:3000/api/pagar'; //desarrollo\r\n                const url =  '/api/pagar';\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                datos.append('metodo', metodo);\r\n                try {\r\n                    const respuesta = await fetch(url,{\r\n                        body:datos,\r\n                        method:'POST'\r\n                    })\r\n                    const resultado = await respuesta.json();\r\n                    console.log(resultado)\r\n                    btnPagar.style.display = 'block'\r\n                    btnBanco.style.display = 'block'\r\n                 \r\n                    if(resultado.tipo == 'error'){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops',\r\n                            text: resultado.mensaje\r\n                          })\r\n                    }else{\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                            \r\n                            text: resultado.mensaje\r\n                          })\r\n                        const body =  document.querySelector('body');\r\n                        const inputHidden = document.createElement(\"input\");\r\n                        inputHidden.type = \"hidden\"; \r\n                        inputHidden.id = \"confirmacionPago\"; \r\n                        body.appendChild(inputHidden);\r\n\r\n\r\n                        while(contenedorFactura.firstChild){\r\n                            contenedorFactura.removeChild(contenedorFactura.firstChild);\r\n                        }\r\n                     \r\n                        document.querySelector('#btnPagar').remove();\r\n                        consultarFacturas();\r\n                     \r\n                    }\r\n                } catch (error) {\r\n                    \r\n                }\r\n            }\r\n\r\n  \r\n          \r\n\r\n\r\n\r\n            function seleccionFactura(e){\r\n\r\n                const seleccionAnterior =  document.querySelector('.table__seleccion');\r\n                if(seleccionAnterior){\r\n                    seleccionAnterior.classList.remove('table__seleccion')\r\n                }\r\n                const facturaSeleccionada  =e.currentTarget;\r\n                facturaSeleccionada.classList.add('table__seleccion');\r\n            }\r\n\r\n   \r\n\r\n            function limpiarHtml(){\r\n                const acciones = document.querySelector('#actions')\r\n                while(acciones.firstChild){\r\n                    acciones.removeChild(acciones.firstChild);\r\n                }\r\n            }\r\n            \r\n       \r\n\r\n       \r\n        \r\n\r\n     }\r\n\r\n})();","\r\n\r\n(function(){\r\n  \r\n    const tablaRegistrados = document.querySelector('#tablaRegistrados');\r\n \r\n    if(tablaRegistrados){\r\n\r\n        $('#tablaRegistrados').on('click', '#btn_eliminar_registrado', function(e) {\r\n            // Manejar el evento aquí\r\n            leerAccion(e);\r\n            // Resto del código\r\n        });\r\n       \r\n        let tablaRegistradosData;\r\n        mostrarRegistrados();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla(){\r\n            tablaRegistradosData.on('draw', eventosClickEditar);\r\n        }\r\n        function eventosClickEditar(){\r\n          \r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_registrado');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n              \r\n                btnEliminar.addEventListener('click', function(e){\r\n                    // const registradoId = e.currentTarget.dataset.registradoId;\r\n                    leerAccion(e);\r\n                })\r\n            })\r\n        }\r\n        // tablaRegistrados.addEventListener('click',function(e){\r\n        //     leerAccion(e);\r\n        // })\r\n        function leerAccion( e){\r\n       \r\n            if(e.currentTarget.id=='btn_eliminar_registrado'){\r\n                eliminarRegistrado( e);\r\n            }\r\n            \r\n        }\r\n        function eliminarRegistrado(e){\r\n            const registrado = e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent;\r\n            const id = e.currentTarget.dataset.registradoId;\r\n            \r\n            Swal.fire({\r\n                title: `Esta seguro que desea eliminar el estrato ${registrado}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function enviarInformacionEliminar(id){\r\n      \r\n            url = `/api/registrados/eliminar?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n               \r\n            \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaRegistradosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        \r\n\r\n\r\n        function mostrarRegistrados(){\r\n            $(\"#tablaRegistrados\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaRegistradosData = $('#tablaRegistrados').DataTable({\r\n                ajax: '/api/registrados',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/registrados',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n    }\r\n})();","\r\n\r\n(function(){\r\n  \r\n    const contenedorPagado = document.querySelector('#pagos');\r\n    if(contenedorPagado){\r\n            let control = true;\r\n            const urlActual = new URL(window.location);\r\n            const params = new URLSearchParams(urlActual.search);\r\n            const id = params.get('id');\r\n            const nombreCliente = document.querySelector('#cliente')\r\n            const actions = document.querySelector('#actions');\r\n            // actions.addEventListener('click',function(e){\r\n           \r\n            //     if(e.target.id=='btnPagar'){\r\n            //        const swal =  document.querySelector('.swal2-confirm')\r\n\r\n            //        swal.addEventListener('click',function(){\r\n            //             setTimeout(()=>{\r\n                         \r\n            //                 consultarPagos();\r\n            //             },2000)\r\n            //        })\r\n            //     }\r\n            // })\r\n\r\n           const body  =  document.querySelector('body')\r\n           body.addEventListener('click',function(){\r\n                const inputHidden = document.querySelector('#confirmacionPago')\r\n                if(inputHidden){\r\n                    consultarPagos();\r\n                  \r\n                }\r\n           })\r\n\r\n            \r\n           \r\n           \r\n            consultarPagos();\r\n    \r\n            \r\n      \r\n            async function consultarPagos(){\r\n                if(document.querySelector('#confirmacionPago')){\r\n                    document.querySelector('#confirmacionPago').remove()\r\n                }\r\n                \r\n            \r\n\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                \r\n                try {\r\n                    //const url = 'http://localhost:3000/api/pagos'//desarrollo \r\n                    const url = 'http://localhost:3000/api/pagos' //produccion\r\n                    const respuesta = await fetch(url, {\r\n                        method:'POST',\r\n                        body: datos\r\n                    });\r\n                    const pagos = await respuesta.json();\r\n                    \r\n                    if(pagos){\r\n                        \r\n                        imprimirResultados(pagos);\r\n                    }\r\n                                  \r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n\r\n            function imprimirResultados(pagos){\r\n\r\n                while(contenedorPagado.firstChild){\r\n                    contenedorPagado.removeChild(contenedorPagado.firstChild);\r\n                }\r\n             \r\n                const tabla = document.createElement('TABLE');\r\n                tabla.classList.add('table');\r\n\r\n                pagos.forEach(pago => {\r\n  \r\n                    const {id, numero_factura, fecha_pago, periodo_fin, periodo_inicio, monto, numero_pago} = pago\r\n                    const tr = document.createElement('TR');\r\n                    tr.classList.add('table__tr')\r\n                    // tr.dataset.facturaId = id;\r\n                    tr.onclick = function(e){\r\n                        seleccionarPago(e);\r\n                        informacionPago(pago);\r\n                    }\r\n\r\n                    const tdNumeroFactura = document.createElement('TD');\r\n                    tdNumeroFactura.classList.add('table__td');\r\n                    tdNumeroFactura.textContent = `#${numero_factura}`\r\n\r\n                    const tdFechaPago = document.createElement('TD');\r\n                    tdFechaPago.classList.add('table__td');\r\n                    tdFechaPago.innerHTML = `<span class=\"table__span\">Fecha de Pago:&nbsp; </span>&nbsp; ${fecha_pago}`;\r\n\r\n                    const tdPeriodo = document.createElement('TD');\r\n                    tdPeriodo.classList.add('table__td');\r\n                    tdPeriodo.innerHTML = `<span class=\"table__span\">Periodo:&nbsp; </span>&nbsp; ${periodo_inicio} &nbsp; - &nbsp;${periodo_fin}`\r\n\r\n                    const tdMonto = document.createElement('TD');\r\n                    tdMonto.classList.add('table__td');\r\n                    tdMonto.innerHTML = ` <span class=\"table__span\">Monto:&nbsp; </span>$ ${monto}`\r\n\r\n                    const tdNumeroPago = document.createElement('TD');\r\n                    tdNumeroPago.classList.add('table__td');\r\n                    tdNumeroPago.innerHTML = ` <span class=\"table__span\">Pago #&nbsp; </span> ${numero_pago}`\r\n\r\n                  \r\n\r\n\r\n\r\n                    tr.appendChild(tdNumeroFactura)\r\n                    tr.appendChild(tdFechaPago)\r\n                    tr.appendChild(tdPeriodo)\r\n                    tr.appendChild(tdMonto)\r\n                    tr.appendChild(tdNumeroPago)\r\n                    tabla.appendChild(tr);\r\n\r\n\r\n                });\r\n                \r\n                \r\n                \r\n                \r\n                contenedorPagado.appendChild(tabla)\r\n\r\n            }\r\n\r\n            function informacionPago(pago){\r\n                const {id, numero_factura,numero_pago, estrato, metodo, periodo_inicio, periodo_fin, monto, recaudador} = pago;\r\n               \r\n                limpiarHtml();\r\n                const acciones = document.querySelector('#payments')\r\n              \r\n\r\n                const accionesContenedor = document.createElement('DIV');\r\n                accionesContenedor.classList.add('actions__contenedor')\r\n              \r\n              \r\n                const accionesInfo = document.createElement('DIV');\r\n                accionesInfo.classList.add('actions__info');\r\n\r\n                /* cliente */\r\n\r\n                // const accionesCliente = document.createElement('DIV');\r\n                // accionesCliente.classList.add('registrado__datos');\r\n\r\n                // const clienteLabel = document.createElement('SPAN');\r\n                // clienteLabel.classList.add('registrado__label');\r\n                // clienteLabel.textContent = 'Cliente'\r\n                \r\n                // const clienteDato = document.createElement('P');\r\n                // clienteDato.classList.add('registrado__dato');\r\n                // clienteDato.textContent = nombreCliente.textContent\r\n                \r\n                /* estrato */\r\n\r\n                \r\n                \r\n                const accionesRecaudador = document.createElement('DIV');\r\n                accionesRecaudador.classList.add('registrado__datos');\r\n\r\n                \r\n                const recaudadorLabel = document.createElement('SPAN');\r\n                recaudadorLabel.classList.add('registrado__label');\r\n                recaudadorLabel.textContent = 'Recaudador'\r\n                \r\n                const recaudadorDato = document.createElement('P');\r\n                recaudadorDato.classList.add('registrado__dato');\r\n                recaudadorDato.textContent = recaudador\r\n\r\n                /* Periodo */\r\n\r\n                const accionesPeriodo = document.createElement('DIV');\r\n                accionesPeriodo.classList.add('registrado__datos');\r\n\r\n                \r\n                const periodoLabel = document.createElement('SPAN');\r\n                periodoLabel.classList.add('registrado__label');\r\n                periodoLabel.textContent = 'Periodo'\r\n                \r\n                const periodoDato = document.createElement('P');\r\n                periodoDato.classList.add('registrado__dato');\r\n                \r\n                periodoDato.innerHTML = `${periodo_inicio} &nbsp;- &nbsp;  ${periodo_fin}`\r\n\r\n                /* Monto */\r\n\r\n                const accionesMonto = document.createElement('DIV');\r\n                accionesMonto.classList.add('registrado__datos');\r\n\r\n                \r\n                const montoLabel = document.createElement('SPAN');\r\n                montoLabel.classList.add('registrado__label');\r\n                montoLabel.textContent = 'Monto '\r\n                \r\n                const montoDato = document.createElement('P');\r\n                montoDato.classList.add('registrado__dato');\r\n                montoDato.textContent =`$ ${monto}`;\r\n\r\n                /* comprobante */\r\n                const accionesMetodo = document.createElement('DIV');\r\n                accionesMetodo.classList.add('registrado__datos');\r\n\r\n                \r\n                const metodoLabel = document.createElement('SPAN');\r\n                metodoLabel.classList.add('registrado__label');\r\n                metodoLabel.textContent = 'Metodo '\r\n                \r\n                const metodoDato = document.createElement('P');\r\n                metodoDato.classList.add('registrado__dato');\r\n                metodoDato.textContent =metodo == 1?'Efectivo':  'Transferencia';\r\n                \r\n\r\n                \r\n\r\n                // accionesCliente.appendChild(clienteLabel);\r\n                // accionesCliente.appendChild(clienteDato);\r\n\r\n                accionesRecaudador.appendChild(recaudadorLabel);\r\n                accionesRecaudador.appendChild(recaudadorDato);\r\n                \r\n                accionesPeriodo.appendChild(periodoLabel);\r\n                accionesPeriodo.appendChild(periodoDato);\r\n\r\n                accionesMonto.appendChild(montoLabel);\r\n                accionesMonto.appendChild(montoDato);\r\n\r\n                accionesMetodo.appendChild(metodoLabel);\r\n                accionesMetodo.appendChild(metodoDato);\r\n    \r\n                // accionesContenedor.appendChild(accionesCliente);\r\n                accionesContenedor.appendChild(accionesRecaudador);\r\n                accionesContenedor.appendChild(accionesPeriodo);\r\n                accionesContenedor.appendChild(accionesMonto);\r\n                accionesContenedor.appendChild(accionesMetodo);\r\n\r\n                acciones.appendChild(accionesContenedor)\r\n\r\n                //Botones \r\n                const botonesContenedor = document.createElement('DIV');\r\n                botonesContenedor.classList.add('actions__botones');\r\n\r\n                const btnVerFactura =  document.createElement('SPAN');\r\n                btnVerFactura.classList.add('actions__boton');\r\n\r\n                btnVerFactura.onclick = function(){\r\n                    previsualizarComprobante(numero_pago);\r\n                }\r\n                btnVerFactura.textContent = 'Previzualizar';\r\n\r\n                botonesContenedor.appendChild(btnVerFactura);\r\n\r\n              \r\n                acciones.appendChild(botonesContenedor);\r\n\r\n            }\r\n\r\n            async function previsualizarComprobante(numero_pago){\r\n               \r\n\r\n                const url =`/api/previsualizar-pago?key=${btoa(numero_pago)}`;\r\n                // Abre la URL en una nueva pestaña\r\n                window.open(url, '_blank');\r\n\r\n              \r\n            }\r\n\r\n           \r\n            async function enviarInformacionPagar(id){\r\n                const url =  'http://localhost:3000/api/pagar';\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                try {\r\n                    const respuesta = await fetch(url,{\r\n                        body:datos,\r\n                        method:'POST'\r\n                    })\r\n                    const resultado = await respuesta.json();\r\n                 \r\n                    if(resultado.tipo == 'error'){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops',\r\n                            text: resultado.mensaje\r\n                          })\r\n                    }else{\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                          \r\n                            text: resultado.mensaje\r\n                          })\r\n                        while(contenedorPagado.firstChild){\r\n                            contenedorPagado.removeChild(contenedorPagado.firstChild);\r\n                        }\r\n                       \r\n                     \r\n                      \r\n                        consultarPagos();\r\n                    }\r\n                } catch (error) {\r\n                    \r\n                }\r\n            }\r\n\r\n   \r\n          \r\n\r\n\r\n\r\n            function seleccionarPago(e){\r\n                \r\n                const seleccionAnterior =  document.querySelector('.table__seleccion');\r\n                if(seleccionAnterior){\r\n                    seleccionAnterior.classList.remove('table__seleccion')\r\n                }\r\n                const facturaSeleccionada  =e.currentTarget;\r\n                facturaSeleccionada.classList.add('table__seleccion');\r\n            }\r\n\r\n   \r\n\r\n            function limpiarHtml(){\r\n                const acciones = document.querySelector('#payments')\r\n                while(acciones.firstChild){\r\n                    acciones.removeChild(acciones.firstChild);\r\n                }\r\n            }\r\n\r\n\r\n\r\n     }\r\n    \r\n\r\n})();\r\n\r\n","\r\n(function(){\r\n   \r\n\r\n    \r\n    const tablaUsuarios = document.querySelector('#tablaUsuarios');\r\n    if(tablaUsuarios){\r\n        let tablaUsuariosData;\r\n        tablaUsuarios.addEventListener('click',function(e){\r\n            leerAccion(e);\r\n        })\r\n\r\n        $('#tablaUsuarios').on('click', '#btn_eliminar_usuario', function(e) {\r\n            // Manejar el evento aquí\r\n      \r\n            eliminarUsuario(e);\r\n        });\r\n    \r\n        \r\n\r\n        mostrarUsuarios();\r\n\r\n        verificarCargaTabla();\r\n        function verificarCargaTabla(){\r\n      \r\n            tablaUsuariosData.on('draw', eventosClick);\r\n        }\r\n\r\n        function eventosClick(){\r\n\r\n            \r\n          \r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_usuario');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n              \r\n                btnEliminar.addEventListener('click', function(e){\r\n                   // console.log(e.currentTarget)\r\n                    \r\n                   eliminarUsuario(e);\r\n                })\r\n            })\r\n        }\r\n\r\n\r\n\r\n\r\n        function leerAccion(e){\r\n        \r\n            // if(e.target.id=='btn_eliminar_usuario'){\r\n            //     eliminarUsuario(e);\r\n            // }\r\n            if(e.target.id=='btn_cambiar_estado'){\r\n                editarEstado(e);\r\n            }\r\n        }\r\n        function eliminarUsuario(e){\r\n            const nombre = e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent;\r\n            const id = e.currentTarget.dataset.usuarioId;\r\n            Swal.fire({\r\n                title: `Esta seguro que desea eliminar a  ${nombre}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function enviarInformacionEliminar(id){\r\n           \r\n            url = `/api/usuarios/eliminar?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n              \r\n             \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaUsuariosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function editarEstado(e){\r\n           \r\n            const estadoActual = e.target.dataset.estadoActual;\r\n            const nombre = e.target.parentNode.parentNode.children[1].textContent;\r\n            const id = e.target.dataset.usuarioId;\r\n\r\n            let mensajeAlerta = '';\r\n        \r\n            if(estadoActual == 1){\r\n                mensajeAlerta = 'Esta seguro que desea desactivar a';\r\n            }else{\r\n                mensajeAlerta = 'Esta seguro que desea activar a';\r\n            }\r\n        \r\n            \r\n            Swal.fire({\r\n                title: `${mensajeAlerta}  ${nombre}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEstado(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n\r\n        async function enviarInformacionEstado(id){\r\n            url = `/api/usuarios/editar-estado?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n           \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    title: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaUsuariosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function mostrarUsuarios(){\r\n            $(\"#tablaUsuarios\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaUsuariosData = $('#tablaUsuarios').DataTable({\r\n                ajax: '/api/usuarios',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n        }\r\n       \r\n    \r\n\r\n    }  \r\n        \r\n   \r\n\r\n \r\n \r\n\r\n\r\n  \r\n})();","\r\n(function(){\r\n    const estrato = document.querySelector('#estrato');\r\n    if(estrato){\r\n\r\n        /* Selectores */\r\n        const tarifaPlenaInput= document.querySelector('#tarifa_plena');\r\n        const porcentajeSubsidioInput = document.querySelector('#porcentaje_subsidio');\r\n        const subsidioInput= document.querySelector('#subsidio') ;\r\n        const copagoInput = document.querySelector('#copago')\r\n\r\n        const porcentajeAcuInput= document.querySelector('#porcentaje_acu');\r\n        const subsidioAcuInput= document.querySelector('#subsidio_acu') ;\r\n        const copagoAcuInput = document.querySelector('#copago_acu');\r\n        const totalAcuInput = document.querySelector('#tarifa_plena_acu')\r\n\r\n        const porcentajeAlcInput = document.querySelector('#porcentaje_alc');\r\n        const subsidioAlcInput= document.querySelector('#subsidio_alc') ;\r\n        const copagoAlcInput = document.querySelector('#copago_alc');\r\n        const totalAlcInput = document.querySelector('#tarifa_plena_alc')\r\n        \r\n\r\n        const porcentajeAseoInput = document.querySelector('#porcentaje_aseo');\r\n        const subsidioAseoInput= document.querySelector('#subsidio_aseo') ;\r\n        const copagoAseoInput = document.querySelector('#copago_aseo');\r\n        const totalAseoInput = document.querySelector('#tarifa_plena_aseo')\r\n\r\n        const ajusteInput = document.querySelector('#ajuste');\r\n        const porcentajeAjusteInput = document.querySelector('#porcentaje_ajuste');\r\n\r\n        /* Eventos */\r\n\r\n        tarifaPlenaInput.addEventListener('input',function(e){\r\n            formaterValor(e);\r\n            calcularSubsidioCopago();\r\n            revisarValores();\r\n            ajusteInput.value = '';\r\n            porcentajeAjusteInput.value = '';\r\n        \r\n        })\r\n\r\n        porcentajeSubsidioInput.addEventListener('input',function(e){\r\n            const porcentaje = (e.target.value)*1\r\n            if(porcentaje<0 || porcentaje>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n            calcularSubsidioCopago();\r\n            revisarValores();\r\n            ajusteInput.value = '';\r\n            porcentajeAjusteInput.value = '';\r\n        \r\n        })\r\n\r\n\r\n        porcentajeAcuInput.addEventListener('input',function(e){\r\n            if(((e.target.value)*1)<0 || ((e.target.value)*1)>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n            const porcentaje = (e.target.value)/100;\r\n            calcularDatos(porcentaje,subsidioAcuInput, copagoAcuInput,totalAcuInput);\r\n          \r\n          \r\n        })\r\n        porcentajeAlcInput.addEventListener('input',function(e){\r\n            if(((e.target.value)*1)<0 || ((e.target.value)*1)>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n            const porcentaje = (e.target.value)/100;\r\n            calcularDatos(porcentaje,subsidioAlcInput, copagoAlcInput,totalAlcInput);\r\n    \r\n          \r\n        })\r\n        porcentajeAseoInput.addEventListener('input',function(e){\r\n            if(((e.target.value)*1)<0 || ((e.target.value)*1)>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n            const porcentaje = (e.target.value)/100;\r\n            calcularDatos(porcentaje,subsidioAseoInput, copagoAseoInput,totalAseoInput);\r\n          \r\n        })\r\n\r\n\r\n\r\n\r\n        porcentajeAjusteInput.addEventListener('input',calcularValorAjuste)\r\n        \r\n        ajusteInput.addEventListener('input',function(e){\r\n            calcularPorcentajeAjuste()\r\n            formaterValor(e);\r\n         \r\n          \r\n        })\r\n\r\n        /* Funciones */\r\n\r\n        function formaterValor(e){\r\n            const tarifa_plena = e.target.value;\r\n            let tarifa_plena_sin_formato = parseFloat(tarifa_plena.replace(/,/g, ''));\r\n            if(isNaN(tarifa_plena_sin_formato)){\r\n                tarifa_plena_sin_formato = '';\r\n            }\r\n            const tarifa_plena_formateada =  tarifa_plena_sin_formato.toLocaleString('en');\r\n            e.target.value = tarifa_plena_formateada ;\r\n        }\r\n\r\n        function calcularValorAjuste(){\r\n\r\n            if(((porcentajeAjusteInput.value)*1)<0 || ((porcentajeAjusteInput.value)*1)>100){\r\n                porcentajeAjusteInput.value = '';\r\n            }\r\n            if(copagoInput.value!='' && porcentajeAjusteInput.value !='' && copagoInput.value!=0){\r\n                const copago = parseFloat(copagoInput.value.replace(/,/g, ''));\r\n                const ajuste = ((porcentajeAjusteInput.value/100)*copago).toFixed(2);\r\n                ajusteInput.value = (parseFloat(ajuste)).toLocaleString('en');\r\n \r\n              \r\n            }else{\r\n                ajusteInput.value = '';\r\n                porcentajeAjusteInput.value = '';\r\n\r\n            }\r\n        }\r\n    \r\n        function calcularPorcentajeAjuste(){\r\n      \r\n            if(copagoInput.value!='' && ajusteInput.value !='' && copagoInput.value!=0){\r\n                const valor_ajuste = parseFloat(ajusteInput.value.replace(/,/g, ''));\r\n                const valor_copago = parseFloat(copagoInput.value.replace(/,/g, ''));\r\n\r\n                if(valor_ajuste>valor_copago){\r\n                    ajusteInput.value = '';\r\n                    porcentajeAjusteInput.value = '';\r\n                    return;\r\n                }\r\n\r\n                const porcentaje_ajuste = (((valor_ajuste*100)/valor_copago).toFixed(2))*1;\r\n                porcentajeAjusteInput.value = porcentaje_ajuste;\r\n              \r\n            }else{\r\n                ajusteInput.value = '';\r\n                porcentajeAjusteInput.value = '';\r\n\r\n            }\r\n            \r\n        }\r\n\r\n        function revisarValores(){\r\n           \r\n            calcularDatos(porcentajeAcuInput.value/100,subsidioAcuInput, copagoAcuInput,totalAcuInput);\r\n            calcularDatos(porcentajeAlcInput.value/100,subsidioAlcInput, copagoAlcInput,totalAlcInput);\r\n            calcularDatos(porcentajeAseoInput.value/100,subsidioAseoInput, copagoAseoInput,totalAseoInput);\r\n     \r\n        }\r\n     \r\n        function calcularDatos(porcentaje,subsidioInputRef, copagoInputRef,totalInputRef){\r\n    \r\n            const tarifa_plena_formateada = tarifaPlenaInput.value;\r\n            const porcentaje_subsidio = (porcentajeSubsidioInput.value)/100;\r\n          \r\n            if(tarifa_plena_formateada!='' && porcentaje_subsidio!='' && porcentaje !=''){\r\n               \r\n                const tarifa_plena = parseFloat(tarifa_plena_formateada.replace(/,/g, ''));\r\n                const subsidio = tarifa_plena*porcentaje_subsidio*porcentaje;\r\n                const copago = (((tarifa_plena*(1-porcentaje_subsidio))*porcentaje).toFixed(2))*1;\r\n                const totalValor = tarifa_plena*porcentaje;\r\n                const total = totalValor.toLocaleString('en');\r\n              \r\n                insertarDatos(subsidio, copago, subsidioInputRef, copagoInputRef,totalInputRef,total);\r\n            }else{\r\n                subsidioInputRef.value=0;\r\n                copagoInputRef.value=0;\r\n                totalInputRef.value=0;\r\n            }\r\n\r\n        }\r\n\r\n       \r\n\r\n        function calcularSubsidioCopago(){\r\n            const tarifa_plena_formateada = tarifaPlenaInput.value;\r\n            const porcentaje_subsidio = (porcentajeSubsidioInput.value)/100;\r\n       \r\n            if(tarifa_plena_formateada!='' && porcentaje_subsidio!=''){\r\n                const tarifa_plena = parseFloat(tarifa_plena_formateada.replace(/,/g, ''));\r\n                const subsidio = tarifa_plena*porcentaje_subsidio;\r\n                const copago = ((tarifa_plena*(1-porcentaje_subsidio)).toFixed(2))*1;\r\n          \r\n                insertarDatos(subsidio, copago, subsidioInput, copagoInput);\r\n            }else{\r\n                subsidioInput.value = '' ;\r\n                copagoInput.value = '';\r\n            }\r\n        }\r\n\r\n        function insertarDatos(subsidio, copago, referencia1, referencia2, referencia3=[] , total= ''){\r\n            if(total!=''){\r\n               referencia3.value = total;\r\n            }\r\n            const valor_subsidio = subsidio.toLocaleString('en');\r\n            const valor_copago = copago.toLocaleString('en');\r\n            referencia1.value = valor_subsidio\r\n            referencia2.value = valor_copago\r\n           \r\n        }\r\n        \r\n    }\r\n})();","\r\n(function(){\r\n\r\n\r\n    const tablaEstratos = document.querySelector('#tablaEstratos');\r\n\r\n    if(tablaEstratos){\r\n\r\n        $('#tablaEstratos').on('click', '#btn_eliminar_estrato', function(e) {\r\n            // Manejar el evento aquí\r\n      \r\n            eliminarEstrato(e);\r\n        });\r\n\r\n        let tablaEstratosData;\r\n        mostrarEstratos();\r\n        verificarCargaTabla();\r\n        function verificarCargaTabla(){\r\n      \r\n            tablaEstratosData.on('draw', eventosClick);\r\n        }\r\n\r\n        function eventosClick(){\r\n\r\n            const btnsInfo = document.querySelectorAll('#btn_info_estrato');\r\n            \r\n            btnsInfo.forEach(btnInfo=>{\r\n                btnInfo.addEventListener('click', function(e){\r\n                  \r\n                    infoEstrato(e);\r\n                })\r\n            })\r\n          \r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_estrato');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n              \r\n                btnEliminar.addEventListener('click', function(e){\r\n                   // console.log(e.currentTarget)\r\n             \r\n                    eliminarEstrato(e);\r\n                })\r\n            })\r\n        }\r\n\r\n\r\n        // tablaEstratos.addEventListener('click',function(e){\r\n        //     leerAccion(e);\r\n        // })\r\n        // function leerAccion(e){\r\n        \r\n        //     if(e.target.id=='btn_eliminar_estrato'){\r\n        //         eliminarEstrato(e);\r\n        //     }\r\n        //     if(e.target.id=='btn_info_estrato'){\r\n        //         infoEstrato(e);\r\n        //     }\r\n        // }\r\n\r\n        async function infoEstrato(e){\r\n            const id = e.currentTarget.dataset.estratoId;\r\n            const url = `/api/estratos/info?id=${id}`;\r\n  \r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                \r\n                if(resultado.tipo == 'error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                mostrarInfo(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n            \r\n        }\r\n\r\n        function mostrarInfo(resultado){\r\n  \r\n\r\n            const modal = document.createElement('DIV');\r\n            modal.classList.add('modal');\r\n            modal.innerHTML = `\r\n                <div class=\"modal__informacion\" id=\"info\">\r\n                    <h3>Información del Estrato </h3>\r\n                    \r\n                    <ul class=\"modal__lista\">\r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                           \r\n                            <p class=\"modal__info\">Estrato: <span>${resultado.estrato}</span></p>\r\n                            <p class=\"modal__info\">Año Vigente: <span>${resultado.year}</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena: <span>${parseFloat((resultado.tarifa_plena)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Número de Facturas Vencidas: <span>${resultado.facturas_vencidas}</span></p>\r\n        \r\n                         </li>\r\n                   \r\n\r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Subsidio: <span>${resultado.porcentaje_subsidio}%</span></p>\r\n                            <p class=\"modal__info\">Porcentaje Copago: <span>${resultado.porcentaje_copago}%</span></p>\r\n                            <p class=\"modal__info\">Subsidio: <span>${parseFloat((resultado.subsidio)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Copago: <span>${parseFloat((resultado.copago)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                        \r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Acueducto: <span>${parseFloat((resultado.porcentaje_acu)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Acueducto: <span>${parseFloat((resultado.tarifa_plena_acu)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Subsidio Acueducto: <span>${parseFloat((resultado.subsidio_acu)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Copago Acueducto : <span>${parseFloat((resultado.copago_acu)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                         \r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Alcantarillado: <span>${parseFloat((resultado.porcentaje_alc)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Alcantarillado: <span>${parseFloat((resultado.tarifa_plena_alc)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Subsidio Alcantarillado: <span>${parseFloat((resultado.subsidio_alc)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Copago Alcantarillado : <span>${parseFloat((resultado.copago_alc)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                         \r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Aseo: <span>${parseFloat((resultado.porcentaje_aseo)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Aseo: <span>${parseFloat((resultado.tarifa_plena_aseo)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Subsidio Aseo: <span>${parseFloat((resultado.subsidio_aseo)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Copago Aseo : <span>${parseFloat((resultado.copago_aseo)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Ajuste: <span>${parseFloat((resultado.porcentaje_ajuste)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Ajuste: <span>${parseFloat((resultado.ajuste)).toLocaleString('en')}</span></p>\r\n                           \r\n                         </li>\r\n                         \r\n                        \r\n                    </ul>\r\n\r\n                    <div class=\"modal__opciones\">\r\n                      \r\n             \r\n                      \r\n                        <button type=\"button\" class=\"modal__cerrar-modal\">Cerrar</button>\r\n                    </div>\r\n                    \r\n                </div>\r\n            `\r\n            setTimeout(()=>{\r\n                const info = document.querySelector('#info');\r\n                info.classList.add('modal__informacion--animar');\r\n            },10)\r\n            modal.addEventListener('click',function(e){\r\n                e.preventDefault();\r\n                if(e.target.classList.contains('modal__cerrar-modal')){\r\n                    const info = document.querySelector('#info');\r\n                    info.classList.add('modal__informacion--cerrar');\r\n                    setTimeout(()=>{\r\n                        modal.remove();\r\n                        \r\n                       \r\n                    },500)\r\n                }\r\n               \r\n           \r\n            })\r\n\r\n            document.querySelector('.dashboard__contenedor').appendChild(modal);\r\n        }\r\n\r\n        function eliminarEstrato(e){\r\n   \r\n            const estrato =e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent;\r\n            \r\n          \r\n            const id = e.currentTarget.dataset.estratoId;\r\n            Swal.fire({\r\n                title: `Esta seguro que desea eliminar el estrato ${estrato}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function enviarInformacionEliminar(id){\r\n      \r\n            url = `/api/estratos/eliminar?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n               \r\n            \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaEstratosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n\r\n \r\n        function mostrarEstratos(){\r\n      \r\n            $(\"#tablaEstratos\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaEstratosData = $('#tablaEstratos').DataTable({\r\n                ajax: '/api/estratos',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/estratos',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n\r\n        \r\n    }\r\n\r\n})();\r\n"]}